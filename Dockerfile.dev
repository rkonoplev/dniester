# =========================================================
# Dockerfile.dev
# Local development image.
# Runs Spring Boot app with mounted source code.
# Suitable for iterative development with IDE + docker-compose.
# =========================================================

FROM eclipse-temurin:17-jdk
WORKDIR /app

# Copy Gradle wrapper + configs
COPY gradlew ./
COPY gradle ./gradle
COPY build.gradle settings.gradle ./

# Pre-fetch dependencies (optional, speeds up dev)
RUN ./gradlew dependencies --no-daemon || true

# Source code will be mounted externally (see docker-compose)
CMD ["./gradlew", "bootRun"]