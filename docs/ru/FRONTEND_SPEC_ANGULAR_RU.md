# Техническая спецификация Frontend (Angular)

> **Примечание**: Этот документ описывает **планируемую** эталонную реализацию.
> Для получения информации о **существующей** реализации, пожалуйста, обратитесь к
> **[спецификации Next.js](./FRONTEND_SPEC_NEXTJS_RU.md)**.

## 1. Общие цели
- Разработать **современный, адаптивный frontend для новостного портала** на Angular.
- Следовать **принципам дизайна, вдохновленным Google News**: чистый, просторный, mobile-first,
  с высокой читаемостью.
- Обеспечить **дружественную к SEO структуру** благодаря рендерингу на стороне сервера (SSR).
- Гарантировать **доступность (WCAG 2.1 AA)** и **быструю скорость загрузки**.

---

## 2. Технологический стек
- **Фреймворк:** Angular (с использованием Angular Universal для SSR).
- **UI-библиотека:** Angular Material.
- **Стилизация:** Кастомная тема Angular Material для брендинга, типографики и цветов.
- **Управление состоянием:** Сервисы с RxJS для управления состоянием и кэширования данных.
- **Типографика:** Roboto (базовый) + Roboto Slab / Serif для заголовков статей.

---

## 3. Архитектура и структура

Проект будет структурирован с использованием модульного подхода Angular для лучшей организации.

- **`AppModule`**: Корневой модуль.
- **`CoreModule`**: Сервисы-синглтоны (например, `ApiService`, `AuthService`).
- **`SharedModule`**: Общие компоненты, директивы и пайпы (например, `LayoutComponent`).
- **`PublicModule`**: Модуль для публичных страниц (главная, страница статьи, категории).
- **`AdminModule`**: Модуль для панели администратора с ленивой загрузкой (lazy loading).

---

## 4. Макет и страницы

### 4.1 Главная страница
- Чистая многоколоночная сеточная верстка.
- Блок с главной статьей наверху (заголовок, анонс).
- Второстепенные статьи ниже в виде компактных карточек.
- Панель навигации по категориям наверху.

### 4.2 Страница категории
- Список статей с пагинацией, принадлежащих к выбранной категории.
- Заголовок категории, выделенный акцентным цветом бренда.

### 4.3 Страница статьи
- Крупный заголовок с засечками (serif).
- Дата публикации, автор и категория.
- Полное содержимое (`body`) и анонс (`teaser`), отображаемые как HTML для поддержки
  встроенных изображений, видео и форматирования.
- SEO-метаданные, OpenGraph и Twitter-карты, генерируемые на сервере.

### 4.4 Технические и информационные страницы
- Такие страницы, как "О нас", "Контакты", "Политика конфиденциальности", будут
  реализованы как обычные "ноды" (статьи) в CMS, которым присвоен специальный
  термин таксономии (например, "technical_page").
- Ссылки на эти страницы будут динамически управляться через настройки канала.

---

## 5. Функциональность

### 5.1 SEO и рендеринг
- **Рендеринг на стороне сервера (SSR) с Angular Universal**: Все публичные страницы
  будут предварительно рендериться на сервере. Это обеспечивает максимальную
  производительность при первой загрузке и гарантирует, что поисковые роботы
  получат полностью сформированный HTML для индексации.
- **Динамические мета-теги**: Использование `Meta` и `Title` сервисов Angular для
  динамической установки `<title>`, `<meta name="description">` и OpenGraph тегов
  на сервере для каждой страницы.

### 5.2 Управление глобальными настройками сайта
- **Страница "О канале"**: В админ-панели будет создана специальная страница для
  управления глобальными настройками сайта (сущность `ChannelSettings`).
- **Редактируемые поля**:
  - `siteTitle`: Название сайта для тега `<title>`.
  - `metaDescription`, `metaKeywords`: Глобальные мета-теги.
  - `headerHtml`: Редактируемый HTML-блок для шапки сайта.
  - `footerHtml`: Редактируемый HTML-блок для подвала, позволяющий администратору
    управлять ссылками, копирайтом и логотипом.
  - `logoUrl`: Ссылка на логотип.
  - `mainMenuTermIds`: Список ID терминов для формирования главного меню.
- **Интеграция**: `LayoutComponent` будет получать эти настройки через API и
  динамически рендерить шапку, подвал и меню.

### 5.3 Панель администратора
- Будет реализована по аналогии с версией на Next.js, включая:
  - Аутентификацию и авторизацию на основе ролей (ADMIN/EDITOR).
  - CRUD-операции для новостей, терминов и пользователей.
  - Фронтенд-валидацию для всех форм.
  - **WYSIWYG-редактор** для полей `body` и `teaser` с возможностью вставки
    ссылок на внешние медиафайлы.

---

## 6. Будущие улучшения (опционально)
- Полнотекстовый поиск.
- Переключатель темной темы.
- "Ленивая" загрузка изображений (`ng-lazyload-image` или аналоги).
- Push-уведомления для срочных новостей.
